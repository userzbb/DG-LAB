# Maintainer: Your Name <your.email@example.com>
pkgname=dglab-gui-tauri-bin
pkgver=0.1.3
pkgrel=1
pkgdesc="DG-LAB 设备控制器 - Tauri GUI 应用 (预编译二进制)"
arch=('x86_64')
url="https://github.com/userzbb/DG-LAB"
license=('MIT')
depends=('webkit2gtk' 'gtk3' 'libayatana-appindicator')
provides=('dglab-gui-tauri')
conflicts=('dglab-gui-tauri')
source=("$pkgname-$pkgver.tar.gz::https://github.com/userzbb/DG-LAB/releases/download/v$pkgver/dglab-gui-tauri-linux-x64-bin.tar.gz")
sha256sums=('SKIP')

package() {
  # 安装二进制文件
  install -Dm755 "dglab-gui-tauri" "$pkgdir/usr/bin/dglab-gui"
  
  # 创建桌面快捷方式（使用默认图标）
  install -Dm644 /dev/stdin "$pkgdir/usr/share/applications/dglab-gui.desktop" <<EOF
[Desktop Entry]
Type=Application
Name=DG-LAB Controller
Comment=DG-LAB 设备控制器
Exec=dglab-gui
Icon=utilities-terminal
Categories=Utility;
Terminal=false
EOF
}
